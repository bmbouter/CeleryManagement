<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">

        <link href="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}css/reset-min.css" rel="stylesheet" />
        <link href="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}css/core.less" rel="stylesheet/less" />
        <link href="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}css/anytime.css" rel="stylesheet" />
        <link href="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}css/smoothness/smoothness.css" rel="stylesheet" />
        
        {% block extracss %}
        {% endblock extracss %}

        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/less.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.form.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.flot.min.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.flot.selection.min.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.flot.stack.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/anytime.min.js"></script>
        {% if DEBUG_MODE %}
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/json.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/ajax.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/core.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/System.js"></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/Chart.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/DataParser.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/EventBus.js"></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/query.js"></script>
        {% else %}
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/cma-min.js"></script>
        {% endif %}

        <script>
            {% if load_test_data %}
               CMA.Core.testUrls = true;
            {% endif %}

            {% if CELERYMANAGEMENTAPP_INFRASTRUCTURE_USE_MODE %}
                CMA.Core.USE_MODE = "{{ CELERYMANAGEMENTAPP_INFRASTRUCTURE_USE_MODE }}";
            {% endif %}
        </script>

        {% block extrajs %}
        {% endblock extrajs %}

        <title>{% block title %}System Overview{% endblock %}</title>
        
        {% block extra_head %}
        {% endblock %}
        
    </head>

    {% block body %}
    <body>
        <div id="container">
            {% block container %}
            <div id="header">
            {% block header %}
                <div id="headerBarContainer">
                    <h1>Celery Management Console</h1>
                    <div id="statusUpdate">
                        <div id="statusText">
                        </div>
                    </div>
               </div>
            {% endblock header %}
            </div>
            <div id="contentContainer">
                <div id="dummy">
                    <div id="navigation">
                        <ul>
                            {% if load_test_data %}
                            <!--<li><a href="/celerymanagementapp/test/view/dashboard/">Dashboard</a></li>-->
                            <li><a href="/celerymanagementapp/test/view/system/">Realtime View</a></li>
                            <li><a href="/celerymanagementapp/test/view/configure/">Configuration</a></li>
                            <li><a href="/celerymanagementapp/test/view/chart/">Charts</a></li>
                            {% if CELERYMANAGEMENTAPP_INFRASTRUCTURE_USE_MODE == "dynamic" %}
                            <li><a href="/celerymanagementapp/test/view/policy/">Policies</a></li>
                            {% endif %}
                            <li><a href="/celerymanagementapp/logout/">Logout</a></li>
                            {% else %}
                            <!--<li><a href="/celerymanagementapp/view/dashboard/">Dashboard</a></li>-->
                            <li><a href="/celerymanagementapp/view/system/">Realtime View</a></li>
                            <li><a href="/celerymanagementapp/view/chart/">Charts</a></li>
                            <li><a href="/celerymanagementapp/view/configure/">Configuration</a></li>
                            {% if CELERYMANAGEMENTAPP_INFRASTRUCTURE_USE_MODE == "dynamic" %}
                            <li><a href="/celerymanagementapp/view/policy/">Policies</a></li>
                            {% endif %}
                            <li><a href="/celerymanagementapp/logout/">Logout</a></li>
                            {% endif %}
                            <!--
                            <li><a id="taskNavigationMaster">+ Tasks</a></li>
                            <ul id="taskNavigation"></ul>
                            <li><a id="workerNavigationMaster">+ Workers</a></li>
                            <ul id="workerNavigation"></ul>-->
                        </ul>
                    </div>
                </div>
                <div id="content">
                    {% block content %}
                    {% endblock %}
                </div>
            </div>
            {% endblock container %}
        </div>
    </body>
    {% endblock body %}
</html>
