<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us" >
    <head>
        <link href="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}css/reset-min.css" rel="stylesheet" type="text/css" />
        <link href="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}css/core.less" rel="stylesheet/less" type="text/css" />
        <link href="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}css/fluid_grid.css" rel="stylesheet" type="text/css" />
        
        {% block extracss %}
        {% endblock extracss %}

        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/less.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.flot.min.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.flot.selection.min.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.flot.stack.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/core.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/ajax.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/json.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/charts.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/formatter.js" ></script>
        <script type="text/javascript" src="{{ CELERYMANAGEMENTAPP_MEDIA_PREFIX }}js/jquery.form.js" ></script>

        <script>
            {% if load_test_data %}
               CMACore.testUrls = true;
            {% endif %}

            {% if taskname %}
                CMACore.taskname = "{{ taskname }}";
            {% endif %}
            {% if workername %}
                CMACore.workername = "{{ workername }}";
            {% endif %}
            {% if CELERYMANAGEMENTAPP_INFRASTRUCTURE_USE_MODE %}
                CMACore.USE_MODE = "{{ CELERYMANAGEMENTAPP_INFRASTRUCTURE_USE_MODE }}";
            {% endif %}
        </script>

        {% block extrajs %}
        {% endblock extrajs %}

        <title>{% block title %}System Overview{% endblock %}</title>
        
        {% block extra_head %}
        {% endblock %}
        
    </head>

    {% block body %}
    <body>
        <div id="container">
            <div id="header">
            {% block header %}
                <div id="headerBarContainer">
                    <h1>Celery Management</h1>
                    <div id="statusUpdate">
                        <div id="statusText">
                        </div>
                    </div>
               </div>
            {% endblock header %}
            </div>
            <div id="contentContainer">
                <div id="dummy">
                    <div id="navigation">
                        <ul>
                            {% if load_test_data %}
                            <li><a href="/celerymanagementapp/test/view/dashboard/">Dashboard</a></li>
                            <li><a href="/celerymanagementapp/test/view/system/">Realtime View</a></li>
                            <li><a href="/celerymanagementapp/test/view/configure/">Configuration</a></li>
                            {% else %}
                            <li><a href="/celerymanagementapp/view/dashboard/">Dashboard</a></li>
                            <li><a href="/celerymanagementapp/view/system/">Realtime View</a></li>
                            <li><a href="/celerymanagementapp/view/configure/">Configuration</a></li>
                            {% endif %}
                            <li><a id="taskNavigationMaster">+ Tasks</a></li>
                            <ul id="taskNavigation">
                            </ul>
                            <li><a id="workerNavigationMaster">+ Workers</a></li>
                            <ul id="workerNavigation">
                            </ul>
                        </ul>
                    </div>
                </div>
                <div id="content">
                    {% block content %}
                    {% endblock %}
                </div>
            </div>
        </div>
    </body>
    {% endblock body %}
</html>
